 <!--
    @license NewConsensus Platform v0.1
    (c) 2020-2021 KaoGeek. http://kaogeek.dev
    License: MIT. https://opensource.org/licenses/MIT
    Author:  chalucks <chaluck.s@absolute.co.th>, shiorin <junsuda.s@absolute.co.th>
-->

<div class="admin-tag-page">
    <mat-drawer-container class="example-container" [hasBackdrop]="true">
        <mat-drawer #drawerComment style="width: 100%;" [mode]="'over'" [position]="'end'" [disableClose]="true">
            <admin-debatecomment-page #debateComment (back)="clickDebateCommentBack()"></admin-debatecomment-page>
        </mat-drawer>
        <mat-drawer-content>
            <mat-drawer-container class="example-container" [hasBackdrop]="true">
                <mat-drawer #drawer [mode]="'over'" [position]="'end'" [disableClose]="true">
                    <div class="form-admin">
                        <div class="wrapper">
                            <div class="form-header">
                                <h5 class="title">ตั้งลำดับกระทู้พูดคุยที่แนะนำ</h5>
                            </div>
                            <div class="form-body">
                                <form>
                                    <div class="row" *ngFor="let data of pinDebates; let index = index">
                                        <div class="col-md-12">
                                            <div class="form-group">
                                                <admin-autocomp [facade]="debateFacade" [title]="'ลำดับที่ '+data.pinOrdering" [data]="data" [field]="'debateId'" [whereConditionsPlus]="getWhereConditions()"></admin-autocomp>
                                                <div *ngIf="!data.debateId && submitted" class="alert alert-danger" style="margin-top: 5pt;">
                                                    กรุณาเลือกกระทู้พูดคุย
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </form>
                            </div>
                            <div class="wrapper-action">
                                <button mat-raised-button class="btn-close" (click)="clickCloseDrawer()">ปิด</button>
                                <button mat-raised-button class="btn-save" (click)="clickSave()">บันทึก</button>
                            </div>
                        </div>
                    </div>
                </mat-drawer>
                <mat-drawer-content>
                    <div class="main-content">
                        <admin-table-component #table [facade]="debateFacade" [title]="'กระทู้พูดคุย'" [fieldTable]="fieldTable" [actions]="actions"
                            (create)="clickPinDebate()" (delete)="clickDelete($event)" (comment)="clickComment($event)"></admin-table-component>
                    </div>
                </mat-drawer-content>
            </mat-drawer-container>
        </mat-drawer-content>
    </mat-drawer-container>
</div>